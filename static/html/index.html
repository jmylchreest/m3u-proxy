<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>M3U Proxy</title>
        <link rel="stylesheet" href="/static/css/main.css" />
    </head>
    <body>
        <div id="headerContainer"></div>

        <div class="container">
            <div id="navContainer"></div>

            <div id="alertsContainer"></div>

            <!-- Dashboard Header -->
            <div class="dashboard-header">
                <h1>üìä Analytics Dashboard</h1>
                <p class="text-muted">Real-time insights into your M3U proxy performance</p>
            </div>

            <!-- Key Metrics Cards -->
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-icon">üì∫</div>
                    <div class="metric-content">
                        <h3 class="metric-value" id="totalChannels">2,847</h3>
                        <p class="metric-label">Total Channels</p>
                        <span class="metric-change positive">+127 this week</span>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-icon">üé•</div>
                    <div class="metric-content">
                        <h3 class="metric-value" id="activeStreams">156</h3>
                        <p class="metric-label">Active Streams</p>
                        <span class="metric-change positive">+12 from yesterday</span>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-icon">üë•</div>
                    <div class="metric-content">
                        <h3 class="metric-value" id="activeClients">43</h3>
                        <p class="metric-label">Active Clients</p>
                        <span class="metric-change positive">+8 from last hour</span>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-icon">‚ö°</div>
                    <div class="metric-content">
                        <h3 class="metric-value" id="uptime">99.7%</h3>
                        <p class="metric-label">Uptime</p>
                        <span class="metric-change neutral">30 days</span>
                    </div>
                </div>
            </div>

            <!-- Charts Section -->
            <div class="charts-grid">
                <!-- Stream Usage Chart -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3>üìà Stream Usage (24h)</h3>
                        <div class="chart-legend">
                            <span class="legend-item streams">Streams</span>
                            <span class="legend-item clients">Clients</span>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="usageChart" class="mock-chart"></canvas>
                    </div>
                </div>

                <!-- Top Channels -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3>üèÜ Most Played Channels</h3>
                    </div>
                    <div class="top-channels-list">
                        <div class="channel-item">
                            <span class="channel-rank">1</span>
                            <span class="channel-name">CNN HD</span>
                            <span class="channel-views">1,247 views</span>
                        </div>
                        <div class="channel-item">
                            <span class="channel-rank">2</span>
                            <span class="channel-name">BBC One HD</span>
                            <span class="channel-views">892 views</span>
                        </div>
                        <div class="channel-item">
                            <span class="channel-rank">3</span>
                            <span class="channel-name">ESPN HD</span>
                            <span class="channel-views">756 views</span>
                        </div>
                        <div class="channel-item">
                            <span class="channel-rank">4</span>
                            <span class="channel-name">Discovery HD</span>
                            <span class="channel-views">623 views</span>
                        </div>
                        <div class="channel-item">
                            <span class="channel-rank">5</span>
                            <span class="channel-name">Fox News HD</span>
                            <span class="channel-views">547 views</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- System Status and Recent Activity -->
            <div class="status-grid">
                <!-- System Status -->
                <div class="status-card">
                    <div class="card-header">
                        <h3>üîß System Status</h3>
                    </div>
                    <div class="status-list">
                        <div class="status-item">
                            <span class="status-indicator success"></span>
                            <span class="status-label">Ingestor Service</span>
                            <span class="status-value">Running</span>
                        </div>
                        <div class="status-item">
                            <span class="status-indicator success"></span>
                            <span class="status-label">Proxy Generator</span>
                            <span class="status-value">Healthy</span>
                        </div>
                        <div class="status-item">
                            <span class="status-indicator warning"></span>
                            <span class="status-label">Data Mapping</span>
                            <span class="status-value">3 rules pending</span>
                        </div>
                        <div class="status-item">
                            <span class="status-indicator success"></span>
                            <span class="status-label">Database</span>
                            <span class="status-value">Connected</span>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="activity-card">
                    <div class="card-header">
                        <h3>üïí Recent Activity</h3>
                    </div>
                    <div class="activity-list">
                        <div class="activity-item">
                            <span class="activity-time">2 min ago</span>
                            <span class="activity-text">New client connected from 192.168.1.105</span>
                        </div>
                        <div class="activity-item">
                            <span class="activity-time">5 min ago</span>
                            <span class="activity-text">Proxy "Sports Channels" regenerated (247 channels)</span>
                        </div>
                        <div class="activity-item">
                            <span class="activity-time">12 min ago</span>
                            <span class="activity-text">Source "Provider A" ingestion completed</span>
                        </div>
                        <div class="activity-item">
                            <span class="activity-time">18 min ago</span>
                            <span class="activity-text">Data mapping rule "Clean Names" activated</span>
                        </div>
                        <div class="activity-item">
                            <span class="activity-time">25 min ago</span>
                            <span class="activity-text">Filter "Remove Test Channels" applied</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <h3>üöÄ Quick Actions</h3>
                <div class="action-buttons">
                    <a href="/sources" class="action-btn primary">
                        <span class="action-icon">üì°</span>
                        <span class="action-text">Manage Sources</span>
                    </a>
                    <a href="/data-mapping" class="action-btn success">
                        <span class="action-icon">üîÑ</span>
                        <span class="action-text">Data Mapping</span>
                    </a>
                    <a href="/proxies" class="action-btn info">
                        <span class="action-icon">üì∫</span>
                        <span class="action-text">Stream Proxies</span>
                    </a>
                    <a href="/filters" class="action-btn warning">
                        <span class="action-icon">üîç</span>
                        <span class="action-text">Filters</span>
                    </a>
                </div>
            </div>
        </div>

        <script src="/static/js/shared-loader.js"></script>
    </body>
</html>
